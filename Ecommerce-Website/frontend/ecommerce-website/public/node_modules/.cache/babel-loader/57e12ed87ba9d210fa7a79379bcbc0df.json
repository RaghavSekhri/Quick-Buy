{"ast":null,"code":"var _jsxFileName = \"/home/raghavsekhri/My Stuff/Ecommerce Website/frontend/ecommerce-website/src/components/productlist.js\";\nimport React, { Component } from 'react'; // import Product from './product'\n//import {storeProducts} from '../data'\n\nimport Navbar from '../components/navbar';\nimport { Link } from 'react-router-dom';\nimport Axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nexport default class Productlist extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleAddToCart = (id, title, img, price, company) => {\n      Axios.post(`http://localhost:2406/AddData/AddToCart`, {\n        id: id,\n        title: title,\n        img: img,\n        price: price,\n        company: company\n      }, {\n        headers: {\n          'authorization': \"token \" + localStorage.user\n        }\n      }).then(res => {\n        alert(res.data);\n      });\n    };\n\n    this.state = {\n      products: []\n    };\n  } // componentDidMount(){\n  //     storeProducts.map(eachProduct=>{\n  //         Axios.post('http://localhost:2406/AddData/datacheck',eachProduct)\n  //         .then(res=>{\n  //           let success = res.data;\n  //           console.log(success);\n  //         })\n  //         .catch(err=>{\n  //           console.log(err)\n  //         })\n  //         return true;\n  //       })\n  // }\n\n\n  componentDidMount() {\n    Axios.get('http://localhost:2406/AddData/').then(res => {\n      console.log(res.data);\n      this.setState({\n        products: res.data.products\n      });\n    }).catch(err => {\n      alert(err);\n    });\n  }\n\n  render() {\n    if (localStorage.getItem('user')) {\n      console.log(this.state.products);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), this.state.products.map((product, index) => {\n        return React.createElement(\"div\", {\n          key: index,\n          style: {\n            width: \"250px\",\n            height: \"250px\",\n            float: \"left\",\n            margin: \"10px\",\n            border: \"1px solid black\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          alt: \"loading\",\n          src: product.img,\n          style: {\n            width: \"100px\",\n            height: \"auto\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }), React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, product.title)), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }), React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: () => this.handleAddToCart(product._id, product.title, product.img, product.price, product.company),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \"Add to cart\")), React.createElement(Link, {\n          to: `/home/details/${product._id}`,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"Details\")))));\n      }));\n    } else {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      });\n    }\n  }\n\n}","map":{"version":3,"sources":["/home/raghavsekhri/My Stuff/Ecommerce Website/frontend/ecommerce-website/src/components/productlist.js"],"names":["React","Component","Navbar","Link","Axios","Redirect","Productlist","constructor","props","handleAddToCart","id","title","img","price","company","post","headers","localStorage","user","then","res","alert","data","state","products","componentDidMount","get","console","log","setState","catch","err","render","getItem","map","product","index","width","height","float","margin","border","display","alignItems","justifyContent","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;AACA;;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AAEA,eAAe,MAAMC,WAAN,SAA0BL,SAA1B,CAAoC;AAChDM,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAgCjBC,eAhCiB,GAgCC,CAACC,EAAD,EAAIC,KAAJ,EAAUC,GAAV,EAAcC,KAAd,EAAoBC,OAApB,KAA8B;AAC5CV,MAAAA,KAAK,CAACW,IAAN,CAAY,yCAAZ,EAAqD;AACjDL,QAAAA,EAAE,EAAEA,EAD6C;AAEjDC,QAAAA,KAAK,EAACA,KAF2C;AAGjDC,QAAAA,GAAG,EAACA,GAH6C;AAIjDC,QAAAA,KAAK,EAACA,KAJ2C;AAKjDC,QAAAA,OAAO,EAACA;AALyC,OAArD,EAME;AACEE,QAAAA,OAAO,EAAG;AACN,2BAAkB,WAAWC,YAAY,CAACC;AADpC;AADZ,OANF,EAWCC,IAXD,CAWMC,GAAG,IAAE;AACPC,QAAAA,KAAK,CAACD,GAAG,CAACE,IAAL,CAAL;AACH,OAbD;AAcH,KA/CgB;;AAEd,SAAKC,KAAL,GAAW;AACPC,MAAAA,QAAQ,EAAG;AADJ,KAAX;AAGH,GAN+C,CAO/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAC,EAAAA,iBAAiB,GAAE;AACfrB,IAAAA,KAAK,CAACsB,GAAN,CAAU,gCAAV,EACCP,IADD,CACMC,GAAG,IAAE;AACPO,MAAAA,OAAO,CAACC,GAAR,CAAYR,GAAG,CAACE,IAAhB;AACA,WAAKO,QAAL,CAAc;AACVL,QAAAA,QAAQ,EAAGJ,GAAG,CAACE,IAAJ,CAASE;AADV,OAAd;AAGH,KAND,EAOCM,KAPD,CAOOC,GAAG,IAAE;AACRV,MAAAA,KAAK,CAAEU,GAAF,CAAL;AACH,KATD;AAUH;;AAkBDC,EAAAA,MAAM,GAAG;AACL,QAAGf,YAAY,CAACgB,OAAb,CAAqB,MAArB,CAAH,EACA;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,KAAL,CAAWC,QAAvB;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEK,KAAKD,KAAL,CAAWC,QAAX,CAAoBU,GAApB,CAAwB,CAACC,OAAD,EAASC,KAAT,KAAiB;AACtC,eACI;AAAK,UAAA,GAAG,EAAEA,KAAV;AAAiB,UAAA,KAAK,EAAE;AAACC,YAAAA,KAAK,EAAC,OAAP;AAAeC,YAAAA,MAAM,EAAC,OAAtB;AAA8BC,YAAAA,KAAK,EAAC,MAApC;AAA2CC,YAAAA,MAAM,EAAC,MAAlD;AAAyDC,YAAAA,MAAM,EAAC;AAAhE,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,KAAK,EAAE;AAACC,YAAAA,OAAO,EAAC,MAAT;AAAgBC,YAAAA,UAAU,EAAC,QAA3B;AAAoCC,YAAAA,cAAc,EAAC;AAAnD,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,GAAG,EAAC,SAAT;AAAmB,UAAA,GAAG,EAAET,OAAO,CAACvB,GAAhC;AAAqC,UAAA,KAAK,EAAE;AAACyB,YAAAA,KAAK,EAAC,OAAP;AAAeC,YAAAA,MAAM,EAAC;AAAtB,WAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASH,OAAO,CAACxB,KAAjB,CAFJ,CAJJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EACa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADb,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAQ;AAAQ,UAAA,OAAO,EAAE,MAAI,KAAKF,eAAL,CAAqB0B,OAAO,CAACU,GAA7B,EAAiCV,OAAO,CAACxB,KAAzC,EAA+CwB,OAAO,CAACvB,GAAvD,EAA2DuB,OAAO,CAACtB,KAAnE,EAAyEsB,OAAO,CAACrB,OAAjF,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAR,CAFJ,EAGI,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAG,iBAAgBqB,OAAO,CAACU,GAAI,EAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAR,CADA,CAHJ,CARJ,CADJ;AAkBH,OAnBA,CAFL,CADJ;AAyBK,KA5BL,MA6BQ;AACA,aACI,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAIH;AACR;;AAtF8C","sourcesContent":["import React, { Component } from 'react'\n// import Product from './product'\n//import {storeProducts} from '../data'\nimport Navbar from '../components/navbar';\nimport {Link} from 'react-router-dom'\nimport Axios from 'axios';\nimport {Redirect} from 'react-router-dom';\n\nexport default class Productlist extends Component {\n   constructor(props){\n       super(props);\n       this.state={\n           products : []\n       }\n   }\n    // componentDidMount(){\n    //     storeProducts.map(eachProduct=>{\n    //         Axios.post('http://localhost:2406/AddData/datacheck',eachProduct)\n    //         .then(res=>{\n    //           let success = res.data;\n    //           console.log(success);\n    //         })\n    //         .catch(err=>{\n    //           console.log(err)\n    //         })\n    //         return true;\n    //       })\n    // }\n\n    componentDidMount(){\n        Axios.get('http://localhost:2406/AddData/')\n        .then(res=>{\n            console.log(res.data);\n            this.setState({\n                products : res.data.products\n            })\n        })\n        .catch(err=>{\n            alert (err);\n        })\n    }\n    handleAddToCart = (id,title,img,price,company)=>{\n        Axios.post(`http://localhost:2406/AddData/AddToCart`,{\n            id :id,\n            title:title,\n            img:img,\n            price:price,\n            company:company\n        },{\n            headers : {\n                'authorization' : \"token \" + localStorage.user\n            }\n        })\n        .then(res=>{\n            alert(res.data)\n        })\n    }\n\n    render() {\n        if(localStorage.getItem('user'))\n        {\n        console.log(this.state.products);\n        return (\n            <div>\n                <Navbar />\n                {this.state.products.map((product,index)=>{\n                    return(\n                        <div key={index} style={{width:\"250px\",height:\"250px\",float:\"left\",margin:\"10px\",border:\"1px solid black\"}}>\n                            <div style={{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}}>\n                                <img alt=\"loading\" src={product.img} style={{width:\"100px\",height:\"auto\"}}/>\n                            </div>\n                            <div>\n                                <br></br>\n                                <center>{product.title}</center>\n                            </div>\n                            <div>\n                                <br></br><br></br>\n                                <center><button onClick={()=>this.handleAddToCart(product._id,product.title,product.img,product.price,product.company)}>Add to cart</button></center>\n                                <Link to={`/home/details/${product._id}`}>\n                                <center><button>Details</button></center>\n                                </Link>\n                            </div>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n            }\n            else{\n                return(\n                    <Redirect to=\"/\" />\n                )\n                \n            }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}