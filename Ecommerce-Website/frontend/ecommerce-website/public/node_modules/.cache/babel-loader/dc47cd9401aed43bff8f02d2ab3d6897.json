{"ast":null,"code":"var _jsxFileName = \"/home/raghavsekhri/My Stuff/Ecommerce Website/frontend/ecommerce-website/src/register/register.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nconst initialState = {\n  name: \"\",\n  email: \"\",\n  password: \"\",\n  emailError: \"\",\n  passwordError: \"\",\n  user: \"\",\n  err: \"\"\n};\nexport class Register extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = initialState;\n\n    this.validate = () => {\n      let emailError = \"\";\n      let passwordError = \"\";\n\n      if (!this.state.email.includes(\"@\")) {\n        emailError = \"Email id is incorrect\";\n      }\n\n      if (!this.state.password) {\n        passwordError = \"Password is incorrect\";\n      }\n\n      if (emailError || passwordError) {\n        this.setState({\n          emailError\n        });\n        this.setState({\n          passwordError\n        });\n        return false;\n      }\n\n      return true;\n    };\n\n    this.handleNameChange = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.handleEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlePasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handleLoginPage = () => {\n      window.location = '/';\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const isValid = this.validate();\n\n      if (this.state.email.length === 0 || this.state.password.length === 0) {\n        alert('Please enter the values');\n      } else {\n        const user = {\n          email: this.state.email,\n          password: this.state.password\n        };\n\n        if (!this.state.email.includes(\"@\")) {} else {\n          axios.post('http://localhost:2406/users/register', user).then(res => {\n            console.log(res.data);\n\n            if (res.data.error) {\n              this.setState({\n                err: res.data.error\n              });\n              localStorage.removeItem('user');\n            } else {\n              this.setState({\n                user: res.data\n              });\n              localStorage.setItem('user', this.state.user);\n              window.location = '/';\n            }\n          });\n        }\n\n        if (isValid) {\n          console.log(this.state);\n          this.setState(initialState);\n        }\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"overall\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"all\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(Form, {\n      className: \"login-form\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"font-weight-bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Quick Buy\"))), React.createElement(\"h2\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Welcome\"), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Input, {\n      name: \"email\",\n      placeholder: \"Enter email id\",\n      value: this.state.email,\n      onChange: this.handleEmailChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 15,\n        color: \"#ffffcc\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, this.state.emailError)), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Enter password\",\n      value: this.state.password,\n      onChange: this.handlePasswordChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 15,\n        color: \"#ffffcc\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, this.state.passwordError)), React.createElement(Button, {\n      type: \"submit\",\n      className: \"btn-lg btn-dark btn-block\",\n      style: {\n        marginTop: \"15px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Register\"), React.createElement(Button, {\n      type: \"submit\",\n      className: \"btn-lg btn-dark btn-block\",\n      onClick: () => this.handleLoginPage(),\n      style: {\n        marginTop: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Go back to Login Page\"), React.createElement(\"p\", {\n      style: {\n        color: 'red'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, this.state.err))));\n  }\n\n}\nexport default Register;","map":{"version":3,"sources":["/home/raghavsekhri/My Stuff/Ecommerce Website/frontend/ecommerce-website/src/register/register.js"],"names":["React","Component","axios","Button","Form","FormGroup","Label","Input","initialState","name","email","password","emailError","passwordError","user","err","Register","state","validate","includes","setState","handleNameChange","event","target","value","handleEmailChange","handlePasswordChange","handleLoginPage","window","location","handleSubmit","preventDefault","isValid","length","alert","post","then","res","console","log","data","error","localStorage","removeItem","setItem","render","fontSize","color","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport {Button, Form, FormGroup, Label, Input} from 'reactstrap';\n\nconst initialState = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    emailError: \"\",\n    passwordError: \"\",\n    user:\"\",\n    err:\"\",\n}\n\nexport class Register extends Component {\n    // constructor(props){\n    //     super(props);\n    //     this.state={\n    //         email: null,\n    //         password: null,\n    //         errors:{\n    //             email:' ',\n    //             password:'',\n    //         }\n\n    //     };\n    // }\n\n    state = initialState;\n\n    validate = () => {\n        let emailError = \"\";\n        let passwordError = \"\";\n    \n        if(!this.state.email.includes(\"@\")){\n            emailError = \"Email id is incorrect\";\n        }\n        if(!this.state.password){\n            passwordError = \"Password is incorrect\";\n        }\n        if(emailError || passwordError){\n            this.setState({emailError});\n            this.setState({passwordError});\n            return false;\n        }\n        return true;\n    }\n\n    handleNameChange = event => {\n        this.setState({\n            name:event.target.value\n        })\n    }\n\n    handleEmailChange = event => {\n        this.setState({\n            email:event.target.value\n        })\n    }\n\n    handlePasswordChange = event => {\n        this.setState({\n            password:event.target.value\n        })\n    }\n\n    handleLoginPage = () => {\n        window.location='/';\n    }\n\n    handleSubmit = event => {\n        event.preventDefault();\n        const isValid = this.validate();\n        if(this.state.email.length===0|| this.state.password.length===0){\n            alert('Please enter the values');\n        }\n        else{\n        const user ={\n            email : this.state.email,\n            password:this.state.password\n        }\n        if(!this.state.email.includes(\"@\")){\n        }\n        else{\n        axios.post('http://localhost:2406/users/register',user)\n        .then(res=>{\n            console.log(res.data);\n            if(res.data.error){\n                this.setState({\n                    err:res.data.error\n                })\n                localStorage.removeItem('user');\n            }else{\n                this.setState({\n                    user:res.data\n                })\n\n                localStorage.setItem('user',this.state.user);\n\n                window.location = '/';\n                \n            }\n\n        })\n    }\n        if (isValid)\n        {\n            console.log(this.state);\n            this.setState(initialState);\n        }\n    }\n    }\n\n    render() {\n        return (\n            <div className=\"overall\">\n            <div className=\"all\">\n            <br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br>\n            <Form className=\"login-form\" onSubmit={this.handleSubmit} >\n                <h1>\n                 <span className=\"font-weight-bold\"><center>Quick Buy</center></span>\n                </h1>\n                <h2 className=\"text-center\">\n                    Welcome\n                </h2>\n                {/* <FormGroup>\n                    <Label>Username</Label>\n                    <Input name=\"name\" placeholder=\"Enter Username\" value = {this.state.name} onChange={this.handleNameChange}/>\n                </FormGroup> */}\n                <FormGroup>\n                    <Label>Email</Label>\n                    <Input name=\"email\" placeholder=\"Enter email id\" value = {this.state.email} onChange={this.handleEmailChange}/>\n                    <div style={{fontSize: 15, color: \"#ffffcc\"}}>{this.state.emailError}</div>\n                </FormGroup>\n                <FormGroup>\n                    <Label>Password</Label>\n                    <Input type=\"password\" name=\"password\" placeholder=\"Enter password\" value = {this.state.password} onChange={this.handlePasswordChange}/>\n                    <div style={{fontSize: 15, color: \"#ffffcc\"}}>{this.state.passwordError}</div>\n                </FormGroup>\n                <Button type=\"submit\" className=\"btn-lg btn-dark btn-block\" style={{marginTop:\"15px\"}}>\n                    Register\n                </Button>\n                <Button type=\"submit\" className=\"btn-lg btn-dark btn-block\" onClick = {()=>this.handleLoginPage()} style={{marginTop:\"10px\"}}>\n                    Go back to Login Page\n                </Button>\n        <p style = {{color:'red'}}>{this.state.err}</p>\n            </Form>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default Register\n"]},"metadata":{},"sourceType":"module"}